<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Projects</title>
<link rel="stylesheet" href="../css/handheld.css" />
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0b1/jquery.mobile-1.0b1.min.css" />
<script src="../js/jquery.min.js"></script>
<script	src="http://code.jquery.com/mobile/1.0b1/jquery.mobile-1.0b1.min.js"></script>
</head>
<body>
	<div data-role="page" data-theme="a" id="jqm-home">
		<div data-role="header" class="ui-bar-a ui-header" role="banner">
			<a href="#" onclick="$.mobile.changePage('mobile.html', { transition:'slide', reverse: true });"
				class="ui-btn-left ui-btn ui-btn-icon-left ui-btn-corner-all ui-shadow ui-btn-down-a ui-btn-up-a"
				data-icon="arrow-l" data-theme="a">
				<span class="ui-btn-inner ui-btn-corner-all">
					<span class="ui-btn-text">Back</span>
					<span class="ui-icon ui-icon-arrow-l ui-icon-shadow"></span>
				</span>
			</a>
			<h1 class="ui-title" tabindex="0" role="heading">Android Widgets</h1>
		</div>
		<div data-role="content" data-theme="a">
			<p>
				Recently I started investigating Android Widget development. I have a
				fair amount of experience developing apps for Android, so I figured
				Widgets were the next thing on the list to try out. In general,
				widgets are not terribly difficult to make. All that is needed is an
				XML layout file (like any other layout you would make for an app),
				and a class that extends AppWidgetProvider. The class that extends
				AppWidgetProvider is what is called when the widget is supposed to
				update. In this class, all you essentially need to find the ids of
				the elements you want to update, and update them like you would
				update a UI object when writing an actual application.<br /> <br />
				One of the challenging parts about Android development in general is
				developing for multiple screen sizes. Just because a widget may look
				good on my Droid Eris, doesn't mean it will look good on a Droid
				Incredible. The trick is to use relative sizes - using pixels to
				describe where something should be is not a good idea because each
				device is not guaranteed to have the same screen size/density. One
				way to do this is to use 'dip' (density-independent pixel) instead of
				pixel. This should make the app more screen-independent. For text,
				using 'sp' (scaled pixels) works well. This unit scales the pixes
				based on the preferred font size.<br /> <br /> Another challenge I
				ran into when developing my agenda widget was getting the widget to
				update on an appropriate schedule. The widget isn't very helpful if
				it displays events that happend in the past. I did some reading
				online and it looks like by default, a widget can update at an
				interval of no less than 30 minutes. I felt that this was too long,
				so the solution that made the most sense was to add an alarm. I was
				able to set the alarm to go off every 15 minutes, and when it goes
				off, it sends an "UpdateWidget" intent. My widget listens for that
				intent, and would therefore update when it received that intent. I am
				still a bit sketchy on this updating technique, but in my field tests
				the widget updates correctly.<br /> <br /> So far, I have really
				enjoyed my time developing for Android. Next up, a full calendar
				widget!
			</p>
			<p>
				<b>UPDATE:</b> As of 1/19/2011 this Agenda app has been
				downloaded from the Android Market over 10,000 times!
			</p>	
			<p>		
				<b>UPDATE:</b> As of 3/23/2011 this Agenda app has been
				downloaded from the Android Market over 25,000 times!
			</p>
			<div>
				<img src="../images/device_mobile.png" alt="Screenshot of the widget"
					style="display: block; margin-left: auto; margin-right: auto; border: none"  />
			</div>
		</div>
	</div>
</body>
</html>